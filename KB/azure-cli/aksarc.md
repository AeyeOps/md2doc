[Skip to main content](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#main) [Skip to in-page navigation](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#side-doc-outline)

## The future is yours

Microsoft Build · May 19 – 22, 2025

Join developers and AI innovators to refactor your skills at Microsoft Build.


[Register now](https://aka.ms/MSBuild_T1_Learn_Home)

Dismiss alert

This browser is no longer supported.

Upgrade to Microsoft Edge to take advantage of the latest features, security updates, and technical support.

[Download Microsoft Edge](https://go.microsoft.com/fwlink/p/?LinkID=2092881) [More info about Internet Explorer and Microsoft Edge](https://learn.microsoft.com/en-us/lifecycle/faq/internet-explorer-microsoft-edge)

Table of contentsExit focus mode

[Read in English](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest "Read in English")Add

- Add to Collections
- Add to plan

Table of contents [Read in English](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest "Read in English")Add to CollectionsAdd to plan

* * *

#### Share via

[Facebook](https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Flearn.microsoft.com%2Fen-us%2Fcli%2Fazure%2Faksarc%3Fview%3Dazure-cli-latest%26WT.mc_id%3Dfacebook) [x.com](https://twitter.com/intent/tweet?original_referer=https%3A%2F%2Flearn.microsoft.com%2Fen-us%2Fcli%2Fazure%2Faksarc%3Fview%3Dazure-cli-latest%26WT.mc_id%3Dtwitter&text=Today%20I%20completed%20%22az%20aksarc%20%7C%20Microsoft%20Learn%22!%20I%27m%20so%20proud%20to%20be%20celebrating%20this%20achievement%20and%20hope%20this%20inspires%20you%20to%20start%20your%20own%20%40MicrosoftLearn%20journey!&tw_p=tweetbutton&url=https%3A%2F%2Flearn.microsoft.com%2Fen-us%2Fcli%2Fazure%2Faksarc%3Fview%3Dazure-cli-latest%26WT.mc_id%3Dtwitter) [LinkedIn](https://www.linkedin.com/feed/?shareActive=true&text=Today%20I%20completed%20%22az%20aksarc%20%7C%20Microsoft%20Learn%22!%20I%27m%20so%20proud%20to%20be%20celebrating%20this%20achievement%20and%20hope%20this%20inspires%20you%20to%20start%20your%20own%20%40MicrosoftLearn%20journey!%0A%0D%0Ahttps%3A%2F%2Flearn.microsoft.com%2Fen-us%2Fcli%2Fazure%2Faksarc%3Fview%3Dazure-cli-latest%26WT.mc_id%3Dlinkedin) [Email](mailto:?subject=%5BShared%20Article%5D%20az%20aksarc%20%7C%20Microsoft%20Learn&body=Today%20I%20completed%20%22az%20aksarc%20%7C%20Microsoft%20Learn%22!%20I'm%20so%20proud%20to%20be%20celebrating%20this%20achievement%20and%20hope%20this%20inspires%20you%20to%20start%20your%20own%20%40MicrosoftLearn%20journey!%0A%0D%0Ahttps%3A%2F%2Flearn.microsoft.com%2Fen-us%2Fcli%2Fazure%2Faksarc%3Fview%3Dazure-cli-latest%26WT.mc_id%3Demail)

* * *

Print

Table of contents

# az aksarc

- Reference

Feedback

Note

This reference is part of the **aksarc** extension for the Azure CLI (version 2.32.0 or higher). The extension will automatically install the first time you run an **az aksarc** command. [Learn more](https://learn.microsoft.com/en-us/cli/azure/azure-cli-extensions-overview) about extensions.

Manage provisioned clusters.

[Section titled: Commands](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#commands)

## Commands

Expand table

| Name | Description | Type | Status |
| --- | --- | --- | --- |
| [az aksarc create](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-create) | Creates the provisioned cluster. | Extension | GA |
| [az aksarc delete](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-delete) | Deletes the provisioned cluster. | Extension | GA |
| [az aksarc get-credentials](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-get-credentials) | Get local kubeconfig of the provisioned cluster. | Extension | GA |
| [az aksarc get-logs](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-get-logs) | Collect logs from provisioned clusters and the underlying infrastructure. | Extension | GA |
| [az aksarc get-upgrades](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-get-upgrades) | Get the upgrade versions available for the provisioned cluster. | Extension | GA |
| [az aksarc get-versions](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-get-versions) | List the supported Kubernetes versions in the specified custom location. | Extension | GA |
| [az aksarc list](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-list) | Lists the provisioned clusters in a resource group or in a subscription. | Extension | GA |
| [az aksarc logs](https://learn.microsoft.com/en-us/cli/azure/aksarc/logs?view=azure-cli-latest) | Deprecated. Use 'az aksarc get-logs' instead. | Extension | GA |
| [az aksarc logs hci](https://learn.microsoft.com/en-us/cli/azure/aksarc/logs?view=azure-cli-latest#az-aksarc-logs-hci) | Collect logs from provisioned clusters and the underlying infrastructure. | Extension | Deprecated |
| [az aksarc nodepool](https://learn.microsoft.com/en-us/cli/azure/aksarc/nodepool?view=azure-cli-latest) | Manage nodepools in a provisioned cluster. | Extension | GA |
| [az aksarc nodepool add](https://learn.microsoft.com/en-us/cli/azure/aksarc/nodepool?view=azure-cli-latest#az-aksarc-nodepool-add) | Adds a nodepool in the provisioned cluster. | Extension | GA |
| [az aksarc nodepool delete](https://learn.microsoft.com/en-us/cli/azure/aksarc/nodepool?view=azure-cli-latest#az-aksarc-nodepool-delete) | Deletes the nodepool in the provisioned cluster. | Extension | GA |
| [az aksarc nodepool list](https://learn.microsoft.com/en-us/cli/azure/aksarc/nodepool?view=azure-cli-latest#az-aksarc-nodepool-list) | Lists all the nodepools in the provisioned cluster. | Extension | GA |
| [az aksarc nodepool scale](https://learn.microsoft.com/en-us/cli/azure/aksarc/nodepool?view=azure-cli-latest#az-aksarc-nodepool-scale) | Scales the nodepool in the provisioned cluster . | Extension | GA |
| [az aksarc nodepool show](https://learn.microsoft.com/en-us/cli/azure/aksarc/nodepool?view=azure-cli-latest#az-aksarc-nodepool-show) | Gets the nodepool in the provisioned cluster. | Extension | GA |
| [az aksarc nodepool update](https://learn.microsoft.com/en-us/cli/azure/aksarc/nodepool?view=azure-cli-latest#az-aksarc-nodepool-update) | Update a nodepool in the provisioned cluster. | Extension | GA |
| [az aksarc notice](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-notice) | Output NOTICE file to user specified filepath. | Extension | GA |
| [az aksarc release](https://learn.microsoft.com/en-us/cli/azure/aksarc/release?view=azure-cli-latest) | Manage VHD images for provisioned clusters. | Extension | Preview |
| [az aksarc release download](https://learn.microsoft.com/en-us/cli/azure/aksarc/release?view=azure-cli-latest#az-aksarc-release-download) | Downloads the VHD images from a release. | Extension | Preview |
| [az aksarc release save](https://learn.microsoft.com/en-us/cli/azure/aksarc/release?view=azure-cli-latest#az-aksarc-release-save) | Provisions the downloaded VHD images to the arc resource bridge. | Extension | Preview |
| [az aksarc show](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-show) | Gets the provisioned cluster. | Extension | GA |
| [az aksarc update](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-update) | Updates the provisioned cluster. | Extension | GA |
| [az aksarc upgrade](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-upgrade) | Upgrades the provisioned cluster. | Extension | GA |
| [az aksarc vmsize](https://learn.microsoft.com/en-us/cli/azure/aksarc/vmsize?view=azure-cli-latest) | Manage virtual machine SKUs for provisioned clusters. | Extension | GA |
| [az aksarc vmsize list](https://learn.microsoft.com/en-us/cli/azure/aksarc/vmsize?view=azure-cli-latest#az-aksarc-vmsize-list) | Lists the supported virtual machine sizes in the specified custom location. | Extension | GA |
| [az aksarc vnet](https://learn.microsoft.com/en-us/cli/azure/aksarc/vnet?view=azure-cli-latest) | Manage virtual networks for provisioned clusters. | Extension | GA |
| [az aksarc vnet create](https://learn.microsoft.com/en-us/cli/azure/aksarc/vnet?view=azure-cli-latest#az-aksarc-vnet-create) | Creates the virtual network. | Extension | GA |
| [az aksarc vnet delete](https://learn.microsoft.com/en-us/cli/azure/aksarc/vnet?view=azure-cli-latest#az-aksarc-vnet-delete) | Deletes the virtual network. | Extension | GA |
| [az aksarc vnet list](https://learn.microsoft.com/en-us/cli/azure/aksarc/vnet?view=azure-cli-latest#az-aksarc-vnet-list) | Lists the virtual networks by resource group or subscription. | Extension | GA |
| [az aksarc vnet show](https://learn.microsoft.com/en-us/cli/azure/aksarc/vnet?view=azure-cli-latest#az-aksarc-vnet-show) | Gets the virtual network. | Extension | GA |

[Section titled: az aksarc create](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-create)

## az aksarc create

Creates the provisioned cluster.

```lang-azurecli
az aksarc create --custom-location
                 --name
                 --resource-group
                 --vnet-id
                 [--aad-admin-group-object-ids]
                 [--ca-profile]
                 [--control-plane-count]
                 [--control-plane-ip]
                 [--control-plane-vm-size]
                 [--disable-nfs-driver]
                 [--disable-smb-driver]
                 [--enable-ahub]
                 [--enable-ai-toolchain-operator]
                 [--enable-azure-rbac]
                 [--enable-cluster-autoscaler]
                 [--enable-oidc-issuer]
                 [--enable-wi]
                 [--gateway-id]
                 [--generate-ssh-keys]
                 [--kubernetes-version]
                 [--load-balancer-count]
                 [--location]
                 [--max-count]
                 [--max-pods]
                 [--min-count]
                 [--no-wait]
                 [--node-count]
                 [--node-vm-size]
                 [--nodepool-labels]
                 [--nodepool-taints]
                 [--pod-cidr]
                 [--ssh-auth-ips]
                 [--ssh-key-value]
                 [--tags]
                 [--validate]
```

[Section titled: Examples](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-create-examples)

### Examples

PutProvisionedCluster

```lang-azurecli
az aksarc create --resource-group sample-rg --custom-location sample-cl --name sample-aksarccluster --vnet-ids "vnet-arm-id"
```

[Section titled: Required Parameters](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-create-required-parameters)

### Required Parameters

--custom-location

Name or ID of the custom location to use for the provisioned cluster.

--name -n

Name of the provisioned cluster.

--resource-group -g

Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.

--vnet-id --vnet-ids

ARM resource ID of aksarc virtual network or Azure Local logical network.

[Section titled: Optional Parameters](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-create-optional-parameters)

### Optional Parameters

--aad-admin-group-object-ids -i

Comma-separated list of aad group object IDs that will be set as cluster admin on the provisioned cluster.

--ca-profile --cluster-autoscaler-profile

Space-separated list of key=value pairs for configuring cluster autoscaler. Pass an empty string to clear the profile.

--control-plane-count --control-plane-node-count

Number of control plane nodes.

--control-plane-ip

Kubernetes APIServer IPAddress. The IPAddress should be routable from Azure Resource Bridge Appliance VM.It should be part of the Network subnet being referenced.The cluster creation may fail or timeout if a non-routable IPAddress is passed.

--control-plane-vm-size

VM Size of control plane.

--disable-nfs-driver

Disable NFS driver for the provisioned cluster.

Default value: False

--disable-smb-driver

Disable SMB driver for the provisioned cluster.

Default value: False

--enable-ahub

Enable Azure Hybrid User Benefits (AHUB) for the provisioned cluster.

Default value: False

--enable-ai-toolchain-operator --enable-kaito

Enable AI Toolchain Operator for the provisioned cluster.

Default value: False

--enable-azure-rbac

Enable Azure RBAC to control authorization checks on cluster.

Default value: False

--enable-cluster-autoscaler -e

Enable cluster auto-scaler for the provisioned cluster.

Default value: False

--enable-oidc-issuer

Enable OIDC issuer.

Default value: False

--enable-wi --enable-workload-identity

Enable workload identity addon.

Default value: False

--gateway-id

Gateway Arm ID of the provisioned cluster.

--generate-ssh-keys

Generate ssh key-pair if not present.

Default value: False

--kubernetes-version -k

The kubernetes version of the provisioned cluster.

--load-balancer-count

Number of load balancer nodes.

--location -l

Location. Values from: `az account list-locations`. You can configure the default location using `az configure --defaults location=<location>`.

--max-count

The maximum number of nodes for auto-scaling.

--max-pods -m

Maximum number of pods that can run on a node.

--min-count

The minimum number of nodes for auto-scaling.

--no-wait

Do not wait for the long-running operation to finish.

Default value: False

--node-count -c

Number of nodes to be created in the nodepool.

Default value: 1

--node-vm-size

VM Size of the nodes in the nodepool.

--nodepool-labels

Space-separated labels: key\[=value\] \[key\[=value\] ...\].

--nodepool-taints

Comma-separated list of nodepool taints.

--pod-cidr

The CIDR notation IP ranges from which to assign pod IPs.

--ssh-auth-ips --ssh-authorized-ip-ranges

Comma-separated list of IP addresses or CIDR that are allowed to ssh to the cluster vm.

--ssh-key-value

Path to the ssh public key to be injected into the control plane.

Default value: ~\\.ssh\\id\_rsa.pub

--tags

Space-separated tags: key\[=value\] \[key\[=value\] ...\]. Use "" to clear existing tags.

--validate

Validate the cluster's input parameters without actually creating the cluster.

Default value: False

Global Parameters

--debug

Increase logging verbosity to show all debug logs.

--help -h

Show this help message and exit.

--only-show-errors

Only show errors, suppressing warnings.

--output -o

Output format.

Accepted values: json, jsonc, none, table, tsv, yaml, yamlc

Default value: json

--query

JMESPath query string. See [http://jmespath.org/](http://jmespath.org/) for more information and examples.

--subscription

Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.

--verbose

Increase logging verbosity. Use --debug for full debug logs.

[Section titled: az aksarc delete](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-delete)

## az aksarc delete

Deletes the provisioned cluster.

```lang-azurecli
az aksarc delete --name
                 --resource-group
                 [--no-wait]
                 [--yes]
```

[Section titled: Examples](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-delete-examples)

### Examples

DeleteProvisionedCluster

```lang-azurecli
az aksarc delete --name "sample-aksarccluster" --resource-group "sample-rg"
```

[Section titled: Required Parameters](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-delete-required-parameters)

### Required Parameters

--name -n

Name of the provisioned cluster.

--resource-group -g

Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.

[Section titled: Optional Parameters](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-delete-optional-parameters)

### Optional Parameters

--no-wait

Do not wait for the long-running operation to finish.

Default value: False

--yes -y

Do not prompt for confirmation.

Default value: False

Global Parameters

--debug

Increase logging verbosity to show all debug logs.

--help -h

Show this help message and exit.

--only-show-errors

Only show errors, suppressing warnings.

--output -o

Output format.

Accepted values: json, jsonc, none, table, tsv, yaml, yamlc

Default value: json

--query

JMESPath query string. See [http://jmespath.org/](http://jmespath.org/) for more information and examples.

--subscription

Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.

--verbose

Increase logging verbosity. Use --debug for full debug logs.

[Section titled: az aksarc get-credentials](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-get-credentials)

## az aksarc get-credentials

Get local kubeconfig of the provisioned cluster.

```lang-azurecli
az aksarc get-credentials --name
                          --resource-group
                          [--admin]
                          [--context]
                          [--file]
                          [--overwrite-existing]
```

[Section titled: Examples](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-get-credentials-examples)

### Examples

GetAdminCredential

```lang-azurecli
az aksarc get-credentials --name "sample-aksarccluster" --resource-group "sample-rg" --admin
```

GetAADUserCredential

```lang-azurecli
az aksarc get-credentials --name "sample-aksarccluster" --resource-group "sample-rg"
```

[Section titled: Required Parameters](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-get-credentials-required-parameters)

### Required Parameters

--name -n

Name of the provisioned cluster.

--resource-group -g

Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.

[Section titled: Optional Parameters](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-get-credentials-optional-parameters)

### Optional Parameters

--admin -a

Get cluster administrator credentials.

Default value: False

--context

If specified, overwrite the default context name.

--file -f

Kubernetes configuration file to update. If not provided, updates the file '~/.kube/config'.

Default value: ~\\.kube\\config

--overwrite-existing

Overwrite any existing cluster entry with the same name.

Default value: False

Global Parameters

--debug

Increase logging verbosity to show all debug logs.

--help -h

Show this help message and exit.

--only-show-errors

Only show errors, suppressing warnings.

--output -o

Output format.

Accepted values: json, jsonc, none, table, tsv, yaml, yamlc

Default value: json

--query

JMESPath query string. See [http://jmespath.org/](http://jmespath.org/) for more information and examples.

--subscription

Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.

--verbose

Increase logging verbosity. Use --debug for full debug logs.

[Section titled: az aksarc get-logs](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-get-logs)

## az aksarc get-logs

Collect logs from provisioned clusters and the underlying infrastructure.

```lang-azurecli
az aksarc get-logs [--credentials-dir]
                   [--ip]
                   [--kubeconfig]
                   [--out-dir]
```

[Section titled: Examples](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-get-logs-examples)

### Examples

Collect logs with IP address and SSH credentials

```lang-azurecli
az aksarc get-logs --ip 192.168.200.31 192.168.200.32 --ssh-key ~/.ssh --out-dir ./logs
```

Collect logs with kubeconfig and SSH credentials, kubeconfig is only used to collect IP addresses, and ssh-key file path is used instead of directory

```lang-azurecli
az aksarc get-logs --kubeconfig ~/.kube/config --ssh-key ~/.ssh/id_rsa --out-dir ./logs
```

[Section titled: Optional Parameters](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-get-logs-optional-parameters)

### Optional Parameters

--credentials-dir --ssh-key

Path to SSH credentials to connect to nodes, either id\_rsa file or directory is accepted.

--ip --ips

IP addresses of nodes (control plane nodes or worker nodes) from which logs need to be collected.

--kubeconfig

Path to kubeconfig file to connect to the cluster.

--out-dir

Output directory to store collected logs. If not specified, logs will be stored in the current directory.

Global Parameters

--debug

Increase logging verbosity to show all debug logs.

--help -h

Show this help message and exit.

--only-show-errors

Only show errors, suppressing warnings.

--output -o

Output format.

Accepted values: json, jsonc, none, table, tsv, yaml, yamlc

Default value: json

--query

JMESPath query string. See [http://jmespath.org/](http://jmespath.org/) for more information and examples.

--subscription

Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.

--verbose

Increase logging verbosity. Use --debug for full debug logs.

[Section titled: az aksarc get-upgrades](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-get-upgrades)

## az aksarc get-upgrades

Get the upgrade versions available for the provisioned cluster.

```lang-azurecli
az aksarc get-upgrades --name
                       --resource-group
```

[Section titled: Examples](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-get-upgrades-examples)

### Examples

Get the upgrade versions available for the Hybrid AKS provisioned cluster

```lang-azurecli
az aksarc get-upgrades --name "samplecluster" --resource-group "sample-rg"
```

[Section titled: Required Parameters](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-get-upgrades-required-parameters)

### Required Parameters

--name -n

Name of the provisioned cluster.

--resource-group -g

Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.

Global Parameters

--debug

Increase logging verbosity to show all debug logs.

--help -h

Show this help message and exit.

--only-show-errors

Only show errors, suppressing warnings.

--output -o

Output format.

Accepted values: json, jsonc, none, table, tsv, yaml, yamlc

Default value: json

--query

JMESPath query string. See [http://jmespath.org/](http://jmespath.org/) for more information and examples.

--subscription

Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.

--verbose

Increase logging verbosity. Use --debug for full debug logs.

[Section titled: az aksarc get-versions](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-get-versions)

## az aksarc get-versions

List the supported Kubernetes versions in the specified custom location.

```lang-azurecli
az aksarc get-versions --custom-location
                       [--resource-group]
```

[Section titled: Examples](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-get-versions-examples)

### Examples

VMListSkus

```lang-azurecli
az aksarc get-versions -g sample-rg --custom-location sample-cl
```

[Section titled: Required Parameters](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-get-versions-required-parameters)

### Required Parameters

--custom-location

Name of the custom location to use for displaying the supported k8s versions.

[Section titled: Optional Parameters](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-get-versions-optional-parameters)

### Optional Parameters

--resource-group -g

Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.

Global Parameters

--debug

Increase logging verbosity to show all debug logs.

--help -h

Show this help message and exit.

--only-show-errors

Only show errors, suppressing warnings.

--output -o

Output format.

Accepted values: json, jsonc, none, table, tsv, yaml, yamlc

Default value: json

--query

JMESPath query string. See [http://jmespath.org/](http://jmespath.org/) for more information and examples.

--subscription

Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.

--verbose

Increase logging verbosity. Use --debug for full debug logs.

[Section titled: az aksarc list](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-list)

## az aksarc list

Lists the provisioned clusters in a resource group or in a subscription.

```lang-azurecli
az aksarc list [--resource-group]
```

[Section titled: Examples](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-list-examples)

### Examples

ListProvisionedClusterByResourceGroup

```lang-azurecli
az aksarc list --resource-group "sample-rg"
```

ListProvisionedClusterBySubscription

```lang-azurecli
az aksarc list
```

[Section titled: Optional Parameters](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-list-optional-parameters)

### Optional Parameters

--resource-group -g

Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.

Global Parameters

--debug

Increase logging verbosity to show all debug logs.

--help -h

Show this help message and exit.

--only-show-errors

Only show errors, suppressing warnings.

--output -o

Output format.

Accepted values: json, jsonc, none, table, tsv, yaml, yamlc

Default value: json

--query

JMESPath query string. See [http://jmespath.org/](http://jmespath.org/) for more information and examples.

--subscription

Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.

--verbose

Increase logging verbosity. Use --debug for full debug logs.

[Section titled: az aksarc notice](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-notice)

## az aksarc notice

Output NOTICE file to user specified filepath.

```lang-azurecli
az aksarc notice --output-filepath
```

[Section titled: Examples](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-notice-examples)

### Examples

GetNoticeFile

```lang-azurecli
az aksarc notice --output-filepath "./Notice"
```

[Section titled: Required Parameters](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-notice-required-parameters)

### Required Parameters

--output-filepath

Output filepath for NOTICE file.

Global Parameters

--debug

Increase logging verbosity to show all debug logs.

--help -h

Show this help message and exit.

--only-show-errors

Only show errors, suppressing warnings.

--output -o

Output format.

Accepted values: json, jsonc, none, table, tsv, yaml, yamlc

Default value: json

--query

JMESPath query string. See [http://jmespath.org/](http://jmespath.org/) for more information and examples.

--subscription

Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.

--verbose

Increase logging verbosity. Use --debug for full debug logs.

[Section titled: az aksarc show](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-show)

## az aksarc show

Gets the provisioned cluster.

```lang-azurecli
az aksarc show --name
               --resource-group
```

[Section titled: Examples](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-show-examples)

### Examples

GetProvisionedCluster

```lang-azurecli
az aksarc show --name "sample-aksarccluster" --resource-group "sample-rg"
```

[Section titled: Required Parameters](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-show-required-parameters)

### Required Parameters

--name -n

Name of the provisioned cluster.

--resource-group -g

Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.

Global Parameters

--debug

Increase logging verbosity to show all debug logs.

--help -h

Show this help message and exit.

--only-show-errors

Only show errors, suppressing warnings.

--output -o

Output format.

Accepted values: json, jsonc, none, table, tsv, yaml, yamlc

Default value: json

--query

JMESPath query string. See [http://jmespath.org/](http://jmespath.org/) for more information and examples.

--subscription

Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.

--verbose

Increase logging verbosity. Use --debug for full debug logs.

[Section titled: az aksarc update](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-update)

## az aksarc update

Updates the provisioned cluster.

```lang-azurecli
az aksarc update --name
                 --resource-group
                 [--aad-admin-group-object-ids]
                 [--ca-profile]
                 [--control-plane-count]
                 [--disable-ahub]
                 [--disable-ai-toolchain-operator]
                 [--disable-cluster-autoscaler]
                 [--disable-gateway]
                 [--disable-nfs-driver]
                 [--disable-smb-driver]
                 [--enable-ahub]
                 [--enable-ai-toolchain-operator]
                 [--enable-cluster-autoscaler]
                 [--enable-nfs-driver]
                 [--enable-smb-driver]
                 [--gateway-id]
                 [--max-count]
                 [--min-count]
                 [--tags]
                 [--update-cluster-autoscaler]
```

[Section titled: Examples](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-update-examples)

### Examples

UpdateProvisionedCluster

```lang-azurecli
az aksarc update --tags additionalProperties="sample" --name "sample-aksarccluster" --resource-group "sample-rg"
```

Enable Azure Hybrid User Benefits feature for a provisioned cluster.

```lang-azurecli
az aksarc update --name "sample-aksarccluster" --resource-group "sample-rg" --enable-ahub
```

Disable Azure Hybrid User Benefits feature for a provisioned cluster.

```lang-azurecli
az aksarc update --name "sample-aksarccluster" --resource-group "sample-rg"--disable-ahub
```

Scale Up Control Plane Nodes.

```lang-azurecli
az aksarc update --name "sample-aksarccluster" --resource-group "sample-rg" --control-plane-node-count 5
```

[Section titled: Required Parameters](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-update-required-parameters)

### Required Parameters

--name -n

Name of the provisioned cluster.

--resource-group -g

Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.

[Section titled: Optional Parameters](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-update-optional-parameters)

### Optional Parameters

--aad-admin-group-object-ids -i

Comma-separated list of aad group object IDs that will be set as cluster admin on the provisioned cluster.

--ca-profile --cluster-autoscaler-profile

Space-separated list of key=value pairs for configuring cluster autoscaler. Pass an empty string to clear the profile.

--control-plane-count --control-plane-node-count

Number of nodes to scale the Control Plane to.

--disable-ahub

Disable Azure Hybrid User Benefits (AHUB) for the provisioned cluster.

Default value: False

--disable-ai-toolchain-operator --disable-kaito

Disable AI Toolchain Operator for the provisioned cluster.

Default value: False

--disable-cluster-autoscaler -d

Disable cluster auto-scaler for the provisioned cluster.

Default value: False

--disable-gateway

Disable gateway for the provisioned cluster.

Default value: False

--disable-nfs-driver

Disable NFS driver for the provisioned cluster.

Default value: False

--disable-smb-driver

Disable SMB driver for the provisioned cluster.

Default value: False

--enable-ahub

Enable Azure Hybrid User Benefits (AHUB) for the provisioned cluster.

Default value: False

--enable-ai-toolchain-operator --enable-kaito

Enable AI Toolchain Operator for the provisioned cluster.

Default value: False

--enable-cluster-autoscaler -e

Enable cluster auto-scaler for the provisioned cluster.

Default value: False

--enable-nfs-driver

Enable NFS driver for the provisioned cluster.

Default value: False

--enable-smb-driver

Enable SMB driver for the provisioned cluster.

Default value: False

--gateway-id

Gateway Arm ID of the provisioned cluster.

--max-count

The maximum number of nodes for auto-scaling.

--min-count

The minimum number of nodes for auto-scaling.

--tags

Space-separated tags: key\[=value\] \[key\[=value\] ...\]. Use "" to clear existing tags.

--update-cluster-autoscaler -u

Update cluster auto-scaler for the provisioned cluster.

Default value: False

Global Parameters

--debug

Increase logging verbosity to show all debug logs.

--help -h

Show this help message and exit.

--only-show-errors

Only show errors, suppressing warnings.

--output -o

Output format.

Accepted values: json, jsonc, none, table, tsv, yaml, yamlc

Default value: json

--query

JMESPath query string. See [http://jmespath.org/](http://jmespath.org/) for more information and examples.

--subscription

Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.

--verbose

Increase logging verbosity. Use --debug for full debug logs.

[Section titled: az aksarc upgrade](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-upgrade)

## az aksarc upgrade

Upgrades the provisioned cluster.

```lang-azurecli
az aksarc upgrade --name
                  --resource-group
                  [--kubernetes-version]
                  [--no-wait]
                  [--yes]
```

[Section titled: Examples](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-upgrade-examples)

### Examples

UpgradeProvisionedCluster

```lang-azurecli
az aksarc upgrade --name "sample-aksarccluster" --resource-group "sample-rg" --kubernetes-version "1.22.2"
```

[Section titled: Required Parameters](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-upgrade-required-parameters)

### Required Parameters

--name -n

Name of the provisioned cluster.

--resource-group -g

Name of resource group. You can configure the default group using `az configure --defaults group=<name>`.

[Section titled: Optional Parameters](https://learn.microsoft.com/en-us/cli/azure/aksarc?view=azure-cli-latest#az-aksarc-upgrade-optional-parameters)

### Optional Parameters

--kubernetes-version -k

The kubernetes version of the provisioned cluster.

--no-wait

Do not wait for the long-running operation to finish.

Default value: False

--yes

Flag to disable confirmation prompts.

Default value: False

Global Parameters

--debug

Increase logging verbosity to show all debug logs.

--help -h

Show this help message and exit.

--only-show-errors

Only show errors, suppressing warnings.

--output -o

Output format.

Accepted values: json, jsonc, none, table, tsv, yaml, yamlc

Default value: json

--query

JMESPath query string. See [http://jmespath.org/](http://jmespath.org/) for more information and examples.

--subscription

Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.

--verbose

Increase logging verbosity. Use --debug for full debug logs.

Collaborate with us on GitHub

The source for this content can be found on GitHub, where you can also create and review issues and pull requests. For more information, see [our contributor guide](https://learn.microsoft.com/contribute/content/how-to-write-overview).


![](https://learn.microsoft.com/media/logos/logo_azure.svg)![](https://learn.microsoft.com/media/logos/logo_azure.svg)

Azure CLI feedback

Azure CLI is an open source project. Select a link to provide feedback:

[Open a documentation issue](https://github.com/Azure/azure-cli/issues/new?template=docs_feedback.yml&pageUrl=https%3A%2F%2Flearn.microsoft.com%2Fen-us%2Fcli%2Fazure%2Faksarc%3Fview%3Dazure-cli-latest&pageQueryParams=%3Fview%3Dazure-cli-latest&contentSourceUrl=https%3A%2F%2Fgithub.com%2FMicrosoftDocs%2Fazure-docs-cli%2Fblob%2Fmain%2Fdocs-ref-autogen%2FLatest-version%2Flatest%2Faksarc.yml&documentVersionIndependentId=76c0d7d5-1413-a9f3-64de-6bf8a841395b&platformId=16d5d1f3-9534-17a3-7257-0c894fcb43b1&feedback=%0A%0A%5BEnter+feedback+here%5D%0A&author=%40mikefrobbins&metadata=*+ID%3A+2b6026f6-8da1-03c2-0792-da79b2677685%0A*+PlatformId%3A+16d5d1f3-9534-17a3-7257-0c894fcb43b1+%0A*+Service%3A+**azure-kubernetes-service**&labels=needs-triage) [Provide product feedback](https://github.com/Azure/azure-cli/issues/new/choose)

## Additional resources
